/* ======================  GLOBAL THEME & BASE  ====================== */

:root{
  --bg-color:#f8f5f0;
  --text-color:#1a1a1a;
  --accent-color:#b22222;
  --footer-bg:#eae7e1;
  --brand-gold:#bfa06c;
  --nav-h:76px;
  --marquee-speed:28s;
  --hero-cycle:36s;      /* 5 slides → ~7.2s each */
  --vvh:100dvh;          /* visible viewport height (fallback) */
  --kb:0px;              /* keyboard offset (JS updates) */
}

body.dark{
  --bg-color:#111;
  --text-color:#fff;
  --accent-color:#e63946;
  --footer-bg:#1a1a1a;
}

/* base */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; -webkit-text-size-adjust:100%; }
html,body{ overflow-x:clip; width:100%; }

body{
  margin:0;
  font-family:'Segoe UI',system-ui,-apple-system,Arial,sans-serif;
  background:var(--bg-color);
  color:var(--text-color);
  transition:background .3s,color .3s,padding-top .3s;
  padding-top:var(--nav-h);
}

img{ max-width:100%; height:auto; display:block; }

/* ======================  BRAND / NAVBAR  ====================== */

.brand-text{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.8rem,3.6vw,2rem);
  letter-spacing:.04em; line-height:1; white-space:nowrap;
  color:#000; margin-left:.6rem; overflow:hidden; text-overflow:ellipsis;
}
.brand-text .line1{ font-size:clamp(1.25rem,2.6vw,1.9rem); font-weight:900; }
.brand-text .line2{ font-size:clamp(.105rem,2vw,2.25rem); text-transform:uppercase; letter-spacing:.55em; margin-top:2px; }
.brand-text::first-letter{ color:#e60000; }

.navbar{
  position:fixed; inset:0 auto auto 0; right:0; z-index:4000;
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:clamp(.65rem,1.6vw,1rem) clamp(1rem,3vw,2.5rem);
  height:var(--nav-h); background:var(--bg-color);
  box-shadow:0 2px 10px rgba(0,0,0,.05);
}

.logo{ display:flex; align-items:center; text-decoration:none; color:inherit; min-width:0; }
.logo img{
  height:calc(var(--nav-h) - 4px); width:calc(var(--nav-h) - 4px);
  border-radius:50%; object-fit:cover; background:#fff;
  box-shadow:0 4px 20px rgba(0,0,0,.15);
}

.nav-links{ display:flex; align-items:center; gap:clamp(.6rem,2vw,1.6rem); white-space:nowrap; }
.nav-links a{
  text-decoration:none; color:var(--text-color); font-weight:600;
  padding:.45rem .35rem; border-radius:6px; line-height:1;
  transition:color .2s, background .2s;
}
.nav-links a:hover{ color:var(--brand-gold); background:rgba(191,160,108,.12); }
.nav-links a.active{ color:var(--brand-gold); }

.menu-toggle{
  display:none; margin-left:auto; z-index:3100;
  background:none; border:0; cursor:pointer; line-height:1; font-size:1.9rem;
  color:var(--brand-gold)!important;
}

/* mobile nav */
@media (max-width:900px){
  :root{ --nav-h:86px; }

  .navbar{
    display:grid; grid-template-columns:auto 1fr auto; align-items:center;
    gap:.75rem; background:transparent; box-shadow:none;
  }
  .logo{ grid-column:1; }
  .menu-toggle{ display:block; grid-column:3; justify-self:end; }

  .nav-links{
    position:absolute; top:100%; right:clamp(1rem,3vw,2.5rem);
    flex-direction:column; align-items:flex-start;
    background:rgba(0,0,0,.92); backdrop-filter:blur(4px);
    min-width:220px; padding:.5rem 0; border-radius:10px;
    box-shadow:0 10px 24px rgba(0,0,0,.35); z-index:3050;
    max-height:calc(100vh - var(--nav-h) - 16px); overflow-y:auto;
    visibility:hidden; opacity:0; transform:translateY(-8px);
    transition:opacity .2s ease, transform .2s ease, visibility 0s .2s;
  }
  .nav-links a{ display:block; width:100%; padding:.75rem 1rem; color:#fff!important; }
  .nav-links a:hover{ background:rgba(255,255,255,.12)!important; }
  .nav-links.show{ visibility:visible; opacity:1; transform:translateY(0); }
}

/* brand helpers on mobile */
@media (max-width:768px){
  body:not(.nav-solid) .brand-text{ color:#fff!important; text-shadow:0 1px 3px rgba(0,0,0,.55); }
  .brand-text{ max-width:55vw; display:block; overflow:hidden; text-overflow:ellipsis; }
  .logo img{ margin-right:.4rem; }
  body.nav-solid .brand-text{ color:var(--text-color)!important; text-shadow:none; }
}

/* dropdown theming when nav becomes solid */
@media (max-width:900px){
  body.nav-solid .navbar{ background:var(--bg-color); box-shadow:0 2px 10px rgba(0,0,0,.05); }
  body.nav-solid .navbar .nav-links{
    background:var(--bg-color)!important; border:1px solid rgba(0,0,0,.06)!important;
    box-shadow:0 10px 24px rgba(0,0,0,.10)!important; backdrop-filter:none;
  }
  body.nav-solid .navbar .nav-links a{ color:var(--text-color)!important; }
  body.nav-solid .navbar .nav-links a:hover{ background:rgba(0,0,0,.06)!important; }
}

/* ======================  HERO  ====================== */

.hero-slideshow{
  position:relative; height:clamp(60vh,85vh,90vh);
  overflow:hidden; background:#000;
}
.slides{ position:absolute; inset:0; z-index:1; }
.slide{
  position:absolute; inset:0; background-position:center; background-size:cover; background-repeat:no-repeat;
  opacity:0; transform:scale(1.06);
  animation:fadeZoom var(--hero-cycle) linear infinite both;
  will-change:opacity,transform; background-color:#000;
}
.slide.s1{ background-image:url('../images/home1.jpg'); animation-delay:calc(var(--hero-cycle) * 0); }
.slide.s2{ background-image:url('../images/img23.jpg'); animation-delay:calc(var(--hero-cycle) * -0.2); }
.slide.s3{ background-image:url('../images/foto7.jpg'); animation-delay:calc(var(--hero-cycle) * -0.4); }
.slide.s4{ background-image:url('../images/img20.jpg'); animation-delay:calc(var(--hero-cycle) * -0.6); }
.slide.s5{ background-image:url('../images/img9.JPG');  animation-delay:calc(var(--hero-cycle) * -0.8); }

@keyframes fadeZoom{
  0%{ opacity:0; transform:scale(1.06); }
  6%{ opacity:1; }
  20%{ opacity:1; transform:scale(1); }
  24%{ opacity:0; }
  100%{ opacity:0; transform:scale(1); }
}

/* hero overlay/text */
.hero-overlay{
  position:absolute; inset:0; z-index:2;
  display:flex; align-items:center; justify-content:center; text-align:center;
  padding:clamp(1rem,3vw,2rem); color:#fff;
  background:linear-gradient(to bottom, rgba(0,0,0,.28), rgba(0,0,0,.28));
}
.hero-content h1{ font-size:clamp(1.8rem,5vw,3rem); margin:0 0 .75rem; }
.hero-content p{ font-size:clamp(1rem,2.5vw,1.2rem); margin:0 0 1.25rem; }
.hero-content .btn{
  display:inline-block; background:var(--accent-color); color:#fff;
  padding:.75rem 1.25rem; border-radius:6px; text-decoration:none; font-weight:600;
}

/* reduce motion */
@media (prefers-reduced-motion:reduce){
  .slide{ animation:none; }
  .slide.s1{ opacity:1; }
}

/* mobile hero */
@media (max-width:900px){
  body{ padding-top:0; }
  .hero-slideshow{ height:100svh; min-height:100svh; }
  @supports (height:100dvh){ .hero-slideshow{ height:100dvh; min-height:100dvh; } }
  .slide{ transform:none; background-position:center 42%; animation-name:fadeOnly; }
  .hero-overlay{
    padding-top:max(16px, env(safe-area-inset-top));
    padding-bottom:max(16px, env(safe-area-inset-bottom));
    background:linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.25));
  }
}
@keyframes fadeOnly{ 0%{opacity:0} 8%{opacity:1} 22%{opacity:1} 32%{opacity:0} 100%{opacity:0} }

/* ======================  CONTENT SECTIONS  ====================== */

.specials{ padding:clamp(2rem,6vw,4rem) clamp(1rem,4vw,2rem); background:var(--bg-color); text-align:center; }
.specials h2{ font-size:clamp(1.6rem,4.5vw,2.5rem); margin-bottom:clamp(1.25rem,3vw,3rem); }
.specials-grid{
  display:grid; grid-template-columns:repeat(3,minmax(240px,1fr));
  gap:clamp(1.25rem,3vw,3rem); max-width:1200px; margin:0 auto; align-items:start;
}
@media (max-width:900px){ .specials-grid{ grid-template-columns:repeat(2,minmax(220px,1fr)); } }
@media (max-width:560px){ .specials-grid{ grid-template-columns:1fr; } }

.special-item{ padding:1rem; }
.special-item img{ width:auto; height:90px; object-fit:contain; margin:0 auto 1.2rem; }
.special-item h3{ font-family:'Playfair Display',serif; font-size:clamp(1.1rem,2.6vw,1.5rem); font-weight:700; font-style:italic; margin:.5rem 0; }
.special-item .divider{ width:100px; height:1px; background:var(--text-color); margin:.5rem auto 1.2rem; position:relative; }
.special-item .divider::before{
  content:"◆"; position:absolute; top:-.7rem; left:50%; transform:translateX(-50%);
  font-size:1rem; background:var(--bg-color); padding:0 .3rem; color:var(--text-color);
}
.special-item p{ font-size:.95rem; line-height:1.5; margin:0; }

.gallery-strip{ background:#eee; padding:2rem 0; --marquee-speed:65s; }
@media (max-width:768px){ .gallery-strip{ --marquee-speed:50s; } }
.gallery-marquee{ overflow:hidden; position:relative; }
.gallery-marquee .track{ display:flex; align-items:center; gap:16px; width:max-content; animation:marquee var(--marquee-speed) linear infinite; }
.gallery-marquee img{
  height:150px; width:150px; object-fit:cover; border-radius:10px; flex:0 0 auto;
  box-shadow:0 2px 8px rgba(0,0,0,0.08); transition:transform .3s ease; cursor:pointer;
}
.gallery-marquee img:hover{ transform:scale(1.05); }
.gallery-marquee:hover .track{ animation-play-state:paused; }
@keyframes marquee{ from{transform:translateX(0)} to{transform:translateX(-50%)} }
@media (max-width:768px){
  .gallery-marquee img{ height:110px; width:110px; }
  :root{ --marquee-speed:18s; }
}

.why-us{ padding:clamp(2rem,6vw,4rem) clamp(1rem,4vw,2rem); text-align:center; }
.reasons{ display:flex; flex-wrap:wrap; justify-content:center; gap:2rem; margin-top:2rem; }
.reason{
  width:clamp(220px,40vw,250px); padding:1rem; background:var(--bg-color);
  border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,.05); transition:transform .3s;
}
.reason:hover{ transform:translateY(-5px); }
.reason img{ width:60px; margin-bottom:1rem; }

.footer{ background:var(--footer-bg); padding:2rem; text-align:center; }
.footer .socials a{ margin:0 1rem; color:var(--text-color); text-decoration:none; }

/* ======================  CTA & BUTTONS  ====================== */

.cta{
  background:linear-gradient(0deg,#f6f3ed,#f9f6f0);
  border-radius:14px; max-width:1200px;
  margin:clamp(1.5rem,4vw,3rem) auto;
  padding:clamp(1.25rem,4vw,2rem) clamp(1rem,4vw,2rem);
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:1rem;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
}
.cta h2{ margin:0; font-size:clamp(1.25rem,3.2vw,1.8rem); line-height:1.25; }
.cta .btn{
  display:inline-block; white-space:nowrap; padding:.9rem 1.5rem; border-radius:999px;
  background:linear-gradient(180deg,#e6d386,#caa94b); color:#1e1e1e; font-weight:700; text-decoration:none;
  box-shadow:0 8px 18px rgba(0,0,0,.12), inset 0 1px 0 rgba(255,255,255,.35);
  transition:transform .15s ease, box-shadow .2s ease;
}
.cta .btn:hover{ transform:translateY(-1px); box-shadow:0 12px 24px rgba(0,0,0,.18), inset 0 1px 0 rgba(255,255,255,.45); }
.cta .btn:focus-visible{ outline:3px solid rgba(202,169,75,.6); outline-offset:2px; }
@media (max-width:700px){
  .cta{ grid-template-columns:1fr; text-align:center; }
  .cta .btn{ justify-self:center; width:max-content; }
}

/* global pill btn */
.btn{
  display:inline-block; white-space:nowrap; padding:.9rem 1.5rem; border-radius:999px;
  background:linear-gradient(180deg,#e6d386,#caa94b); color:#1e1e1e; font-weight:700; text-decoration:none;
  box-shadow:0 8px 18px rgba(0,0,0,.12), inset 0 1px 0 rgba(255,255,255,.35);
  transition:transform .15s ease, box-shadow .2s ease;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 12px 24px rgba(0,0,0,.18), inset 0 1px 0 rgba(255,255,255,.45); }
.btn:focus-visible{ outline:3px solid rgba(202,169,75,.6); outline-offset:2px; }
.hero-content .btn{ border-radius:6px; background:var(--accent-color); color:#fff; padding:.75rem 1.25rem; box-shadow:none; }

/* desktop hero fills view minus nav */
@media (min-width:901px){ .hero-slideshow{ height:calc(100vh - var(--nav-h)); } }

/* ======================  LIGHTBOX  ====================== */

.gallery-marquee img:active{ transform:scale(.98); }
.lightbox{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,.85); z-index:9999;
}
.lightbox.active{ display:flex; }
.lightbox img{
  max-width:90vw; max-height:90vh; border-radius:12px; box-shadow:0 12px 28px rgba(0,0,0,.45);
  animation:lb-zoom .28s ease;
}
@keyframes lb-zoom{ from{ transform:scale(.85); opacity:0; } to{ transform:scale(1); opacity:1; } }
.lightbox::after{ content:"✕"; position:absolute; top:16px; right:20px; font-size:28px; line-height:1; color:#fff; opacity:.9; cursor:pointer; user-select:none; }

/* ======================  CHAT WIDGET  ====================== */
/* Keep this section in ONE place (here). Delete any duplicates in the partial. */

.chat-widget{
  position:fixed;
  right:max(16px, env(safe-area-inset-right));
  bottom:max(16px, env(safe-area-inset-bottom));
  z-index:9999;
  isolation:isolate;
  contain:layout paint style;
  font-family:inherit;
}

.chat-toggle{
  appearance:none; border:0; cursor:pointer;
  padding:10px 14px; border-radius:999px;
  background:linear-gradient(180deg,#e6d386,#caa94b);
  color:#1e1e1e; font-weight:700;
  box-shadow:0 10px 22px rgba(0,0,0,.18);
}
.chat-toggle .badge{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:18px; height:18px; margin-left:8px; padding:0 6px;
  background:#c62828; color:#fff; border-radius:9px; font-size:11px;
}

#chat-panel[hidden]{ display:none!important; }

.chat-panel{
  box-sizing:border-box;
  display:flex; flex-direction:column; gap:10px;
  background:#fff; border-radius:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.22);
  padding:12px;

  /* size: never wider than visible viewport, never too tall */
  height:clamp(420px, 70vh, 640px);
  max-width:420px;
  width:calc(100% - 32px);
}
@media (max-width:600px){ .chat-panel{ width:calc(100vw - 32px); } }
@supports (width:100svw){ .chat-panel{ width:min(420px, calc(100svw - 32px)); } }
@supports (width:100dvw){ .chat-panel{ width:min(420px, calc(100dvw - 32px)); } }
@supports (height:100dvh){ .chat-panel{ max-height:calc(100dvh - 96px); } }
.chat-header{
  display:flex; align-items:center; justify-content:space-between;
  background:#1f1f1f; color:#fff; padding:10px 12px; border-radius:12px;
}
.chat-title{ font-weight:700; }
.chat-close{ background:transparent; color:#fff; border:0; font-size:20px; cursor:pointer; }

.chat-messages{
  flex:1 1 auto !important; min-height:0 !important;
  overflow-y:auto !important; -webkit-overflow-scrolling:touch;
  background:#f8f6f0; border-radius:8px; padding:10px;
  scrollbar-gutter:stable both-edges;
  /* extra space when keyboard lifts input (see JS sets --kb) */
  padding-bottom:calc(10px + var(--kb));
}

.bubble{
  max-width:80%; padding:8px 10px; margin:8px 0; border-radius:14px;
  background:#fff; box-shadow:0 2px 6px rgba(0,0,0,.06);
}
.bubble.mine{ margin-left:auto; background:#ffe7a8; }
.bubble.theirs{ margin-right:auto; background:#fff; }
.bubble-text{ font-size:14px; }
.bubble-time{ font-size:11px; opacity:.65; margin-top:4px; text-align:right; }

.chat-form{
  flex:0 0 auto; display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center;
  position:sticky; bottom:0; background:#fff; padding-top:6px;
  transform:translateY(calc(-1 * var(--kb))); /* lift over iOS keyboard */
  will-change:transform;
}
.chat-input{
  border:1px solid rgba(0,0,0,.2); border-radius:10px; padding:10px 12px;
  font-size:16px; line-height:1.25; min-height:44px; /* iOS no-zoom */
}
.chat-send{
  border:0; border-radius:10px; padding:10px 14px;
  background:#c62828; color:#fff; font-weight:700; cursor:pointer;
}
.chat-send:hover{ filter:brightness(.95); }

.chat-status{ font-size:12px; opacity:.7; margin-bottom:6px; display:block; text-align:right; }
.chat-status.online{ color:#1b5e20; opacity:1; }

body.chat-open{ overflow:hidden; overscroll-behavior:none; }

/* iOS input zoom prevention – keep inputs at 16px+ */
@supports (-webkit-touch-callout:none){
  input,textarea,select,button{ font-size:16px !important; }
}
